extends layout

block head
  - var title='Gesten Zuordnung'


block content

  header.page-header
    h2 Gesten-Widget Zuordnung

  section.col-md-4
    h2 Neue Zuordnung
    form(action="/gestures/#{user._id}" method="post")
      div.form-group
        label(for="gesture") Geste
          if gestures.length > 0
            select(name="gesture")#gesture.form-control
              each gesture in gestures
                option(value=gesture._id)= gesture.gestureType
          else
            aside.alert.alert-success.col-sm-12
                strong Hinweis: Keine freien Gesten verfügbar
            a(href="#").btn.btn-primary Neue Geste erstellen

      div.form-group
        label(for="widget") Widget
            if userWidgets.length > 0
              select(name="widget")#widget.form-control
                each widget in userWidgets
                    if widget.gestureSupport
                      option(value=widget._id)= widget.name
            else
              aside.alert.alert-success.col-sm-12
                strong Hinweis: Keine Widgets verfügbar

      button(type="submit").btn.btn-default Speichern

  section.col-md-8
    if userWidgets.length == 0
      h2 Keine Zuordnungen vorhanden
    else
      h2 Vorhandene Zuordnungen bearbeiten
      table.table
        thead
          tr
            th Geste
            th Widget
            th Aktionen

        tbody
          each widget in userWidgets
            if widget.gestureSupport
              tr
                td
                  strong=widget.gesture
                td
                  strong=widget.name
                td
                   a.gesture-delete(href="/gestures/#{widget._id}/delete").btn.btn-danger Löschen
                   input(type="hidden" name="id" value=user._id)
                   =" "
                   a(href="/gestures/#{widget._id}/edit").btn.btn-primary Bearbeiten